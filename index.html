<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Starbhak</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
</head>

<body>
        <div class="container">
            
            <!-- Judul -->
            <header>
                <h1>Starbhak Mart</h1>
            </header>
            <!-- Judul Tutup -->

            <!-- Kotak utama -->
            <div class="kotak">

                <!-- Sidebar -->
                <div class="kiri" id="section-to-print">

                <!-- Button paling atas -->
                <select class="satu">
                    <option hidden>Pilih Jenis Pemesanan</option>
                    <option>Take Away</option>
                    <option>Delivery</option>
                </select>
                <button class="dua"><span class="material-symbols-outlined"
                        style="color: rgb(0, 0, 0) !important; font-size: 16px; ">
                        face
                    </span>toko hendras</button>
                <!-- Penutup -->

                <!-- Penampung class baru -->
                <div class="belanja">
                    <div class="barang" style="display: none;"> 
                        <div class="detail-kiri">
                            <p id="nama-barang" style="font-size: small; font-weight: 500;"></p>
                            <p id="harga-satuan" style="text-align: right; font-size: small;"></p>
                        </div>
                        <div class="detail-kanan">
                            <p class="normal">Unit Price : <span id="harga-banyak"></span></p>
                            <p class="normal" style="display: flex; justify-content: space-between; gap: 4em;">Quantity : <span class="stock" id="stok-${itemName}"></span></p>
                        </div>
                        <button id="remove">
                            <span class="material-symbols-outlined" id="hapus">
                                delete
                                </span>
                        </button>
                    </div>
                </div>
                <!-- tutup class baru -->

                <!-- Tempat Harga barang -->
                <div class="jajan" id="section-to-print">
                    <P>Discount : </P>
                    <p id="totalPrice" style="display: none;"></p>
                    <P style="display: flex; justify-content: space-between;"> Tax  : <span id="tax Discount">0</span></P>
                    <div class="pay">
                        <p>Total Amount : </p>
                        <p id="totalAmount">0</p>
                    </div>
                </div>
                <!-- Penutup harga barang -->

            </div>
            <!-- Penutup Sidebar -->

            <!-- Kotak penampung sebelah kanan / Main Content -->
            <div class="kanan">

                <!-- Navbar 3 paling atas-->
                <nav>
                    <!-- Nav sebelah kiri -->
                    <div class="nav_kiri">
                        <p>stok barang</p>
                    </div>

                    
                    <!-- Nav sebelah kanan -->
                    <div class="nav_kanan">
                        
                        <!-- Search Icon -->
                        <div class="cari"> 
                            <span class="material-symbols-outlined" id="searchIcon">
                                search
                            </span>
                            <input type="text" id="searchInput" placeholder="search" style="display: none;">
                        </div>
                        <!-- Penutup search -->


                        <!-- urutkan item -->
                        <span class="material-symbols-outlined" id="sortByName">
                            swap_vert
                            </span>
                        <!-- penutup urut -->
                    </div>
                </nav>
                <!-- Penutup Navbbar -->

                <!-- List barang -->
                <section>

                    <!-- 1 -->
                    <div class="isi">
                        <div class="foto">
                            <img src="asset/creatine.jpg" alt="">
                        </div>
                        <p>creatine</p>
                        <h1>Rp. 3.000</h1>
                    </div>

                    <!-- 2 -->
                    <div class="isi">
                        <div class="foto">
                            <img src="asset/dada ayam.jpg" alt="">
                        </div>
                        <p>dada ayam</p>
                        <h1>Rp. 15.000</h1>
                    </div>

                    <!-- 3 -->
                    <div class="isi">
                        <div class="foto">
                            <img src="asset/evomas.jpg" alt="">
                        </div>
                        <p>evomas</p>
                        <h1>Rp. 5.000</h1>
                    </div>


                    <!-- 4 -->
                    <div class="isi">
                        <div class="foto">
                            <img src="asset/evowhey.jpg">
                        </div>
                        <p>evowhey</p>
                        <h1>Rp. 60.000</h1>
                    </div>

                    <!-- 5 -->
                    <div class="isi">
                        <div class="foto">
                            <img src="asset/isoline.jpg">
                        </div>
                        <p>isoline</p>
                        <h1>Rp. 65.000</h1>
                    </div>

                    <!-- 6 -->
                    <div class="isi">
                        <div class="foto">
                            <img src="asset/kukubima.jpg">
                        </div>
                        <p>kukubima</p>
                        <h1>Rp. 50.000</h1>
                    </div>

                     <!-- 7 -->
                     <div class="isi">
                        <div class="foto">
                            <img src="asset/rimba whey.jpg">
                        </div>
                        <p>rimba whey</p>
                        <h1>Rp. 25.000</h1>
                    </div>

                    <!-- 7 -->
                    <div class="isi">
                        <div class="foto">
                            <img src="asset/steak.jpg">
                        </div>
                        <p>steak</p>
                        <h1>Rp. 20.000</h1>
                    </div>

                     <!-- 7 -->
                     <div class="isi">
                        <div class="foto">
                            <img src="asset/steroid.jpg">
                        </div>
                        <p>steroid</p>
                        <h1>Rp. 35.000</h1>
                    </div>

                     <!-- 7 -->
                     <div class="isi">
                        <div class="foto">
                            <img src="asset/susu almond.jpg">
                        </div>
                        <p>susu almond</p>
                        <h1>Rp. 15.000</h1>
                    </div>  

                    <div class="isi">
                        <div class="foto">
                            <img src="asset/tempe.jpg">
                        </div>
                        <p>tempe</p>
                        <h1>Rp. 15.000</h1>
                    </div>  

                    <div class="isi">
                        <div class="foto">
                            <img src="asset/whey protein.jpg">
                        </div>
                        <p>whey</p>
                        <h1>Rp. 5.000</h1>
                    </div>  

                    <script>
                        // Fungsi untuk menghitung total belanja
                        function calculateTotal() {
                            var total = 0;
                            $('.belanja .barang').each(function () {
                                var itemPriceText = $(this).find('.detail-kiri .normal').text();
                                var itemPrice = parseFloat(itemPriceText.replace('Unit Price: Rp. ', '').replace('.', '').replace(',', '.'));
                    
                                total += itemPrice;
                            });
                    
                            // Menyimpan total belanja ke dalam elemen dengan id="totalAmount"
                            $('#totalAmount').text('Rp. ' + total.toLocaleString('id-ID'));
                        }
                    
                        // Panggil fungsi calculateTotal saat item ditambah atau dihapus
                        $('.belanja').on('click', '.remove', function () {
                            // Kode untuk menghapus item dari keranjang belanja
                    
                            // Hitung total belanja setelah menghapus item
                            calculateTotal();
                        });
                    
                        $('.isi').on('click', function () {
                            var itemName = $(this).find('p').text();
                            var itemPriceText = $(this).find('h1').text();
                            var itemPrice = parseFloat(itemPriceText.replace('Rp. ', '').replace('.', '').replace(',', '.'));
                    
                            if (!isNaN(itemPrice)) {
                                var formattedItemName = itemName.replace(/\s+/g, '_').toLowerCase();
                    
                                // Menambahkan elemen ke keranjang dengan informasi item yang diklik
                                $('.belanja').append(`
                                    <div class="barang">
                                        <div class="detail-kiri">
                                            <p>${itemName}</p>
                                            <p class="normal">Unit Price: Rp. ${itemPrice.toLocaleString('id-ID')}</p>
                                        </div>
                                        <div class="detail-kanan">
                                            <button class="remove">
                                                <span class="material-symbols-outlined" id="hapus">delete</span>
                                            </button>
                                        </div>
                                    </div>
                                `);
                                calculateTotal(); // Panggil fungsi untuk menghitung total setelah menambah item
                            } else {
                                console.error('Harga item tidak valid saat menambahkan item ke keranjang');
                            }
                        });
                    </script>
  
           
                   
                        
                </section>

                

                <!-- Penutup list barang -->

            </div>
            <!-- Penutup kotak sebelah kanan -->

        </div>
        <!-- penutup keseluruhan kotak -->

        <!-- footer -->
        <div class="payment">
            <Button id="bayar">
                <span class="material-symbols-outlined">
                    shopping_cart
                    </span>
                <span>
                    <p>Payment</p>
                    <p>(CTRL + P)</p>
                </span>
            </Button>
        </div>

        <footer>
            <p>siap jadi tni</p>
        </footer>

        <!-- penutup footer -->
</body>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="script.js"></script>
    <script src="print.js"></script>
    <script src="search.js"></script>
    <script src="short.js"></script>
</html>